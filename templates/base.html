{% load static %}
<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TierTasks</title>

    <!-- CDN do tailwind  -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  </head>
  <body class="min-h-screen text-slate-100 flex flex-col overflow-hidden">

    <!-- Header -->
    <nav class="fixed top-0 left-1/2 transform -translate-x-1/2 bg-transparent z-30">
      <div class="h-20 flex items-center relative">

        <!-- Título centralizado -->
        <a class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 font-bold text-xl text-white pointer-events-auto" href="{% url 'task_list:home' %}">TierTasks</a>

        <!-- Área direita -->
        <div class="ml-auto flex items-center gap-3">
          <div class="text-right mr-2">
            {% if user.is_authenticated %}
              <div class="text-sm text-slate-400">Bem-vindo(a),</div>
              <div class="font-semibold text-slate-100">{{ user.get_full_name|default:user.username }}</div>
            {% endif %}
          </div>

          {% if user.is_authenticated %}
            <form method="post" action="{% url 'task_list:logout' %}" class="inline-block">
              {% csrf_token %}
              <button type="submit" class="login-logout px-3 py-1 text-white">Logout</button>
            </form>
          {% else %}
            <a class="login-logout px-3 py-1 rounded text-white" href="{% url 'task_list:register' %}">Registrar-se</a>
          {% endif %}
        </div>
      </div>
      <div id="header-border" class="h-1.5 bg-pink-300/95 rounded-sm" style="width:110%;"></div>
    </nav>

    <!-- Área para as páginas, conteúdo centralizado-->
    <main class="flex-1 w-full pt-20 pb-12 flex items-start justify-center">
      <div class="w-full max-w-6xl px-6">

        <!-- Mensagens do django com estilos em tailwind -->
        {% if messages %}
          <div class="mb-3 w-full">
            {% for message in messages %}

              <!-- Se a mensagem for de erro, é vermelha. Se for um aviso, amarela. -->
              <div class="flex items-start justify-between p-3 rounded mb-2 text-sm w-full
                          {% if 'error' in message.tags %}bg-red-700 text-red-100
                          {% elif 'warning' in message.tags %}bg-yellow-700 text-yellow-100
                          {% else %}bg-slate-700 text-slate-100
                          {% endif %}">
                <div>{{ message }}</div>
                <button type="button" class="ml-4 text-slate-300 close-alert">✕</button>
              </div>
            {% endfor %}
          </div>
        {% endif %}

        <!-- Conteúdo específico da página em si -->
        {% block content %}{% endblock %}
      </div>
    </main>

    <!-- Footer fixo -->
    <footer class="fixed bottom-0 left-0 right-0 bg-black/50 text-slate-100 py-2 z-30">
      <div class="max-w-5xl mx-auto text-center px-4">
        <small class="text-slate-300">TierTasks © 2025</small>
      </div>
    </footer>

    <!-- Scripts js na pasta própria -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/modals.js' %}"></script>
    {% block scripts %}{% endblock %}
   </body>
 </html>
